var $=Object.defineProperty,z=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var L=(i,t,o)=>t in i?$(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o,D=(i,t)=>{for(var o in t||(t={}))H.call(t,o)&&L(i,o,t[o]);if(F)for(var o of F(t))U.call(t,o)&&L(i,o,t[o]);return i},_=(i,t)=>z(i,G(t));import{e as O,j as l,F as b,a as e,B as m,r as f,V as q,I as K,C as A,S as I,b as W,T as v,c as V,d as Q,f as M,g as y,h as Y,i as w,H as J,k as T,R as X,l as Z,m as ee}from"./vendor.8e310094.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}};te();var re="/react-interview-exercise/assets/header_logo.1094da8d.png";const oe={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},ie={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},se={baseStyle:{bg:"white"}};var ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:ie,Input:se});const ae={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},E=O({colors:ae,components:D({Card:oe},ne)});const j=({children:i,color:t=E.colors.brand.blue,size:o=["50%","50%"],globSizes:s=[[40,80],[60,50],[20,80]],globPositions:r=[[20,10],[10,20],[20,15]],top:n,left:c,right:h,bottom:u,opacity:C=1,speed:d,radius:p,rotate:S})=>l(b,{children:[l("div",{className:"blob",style:{top:n,left:c,right:h,bottom:u,width:o[0],height:o[1],opacity:C,transform:S?`rotate(${S}deg)`:void 0},children:[e("div",{className:"glob",style:{backgroundColor:t,width:s[0][0]+"%",height:s[0][1]+"%",top:r[0][0]+"%",left:r[0][1]+"%",animation:d?`move ${d*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:p}}),e("div",{className:"glob1",style:{backgroundColor:t,width:s[1][0]+"%",height:s[1][1]+"%",top:r[1][0]+"%",left:r[1][1]+"%",animation:d?`move ${d*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:p}}),e("div",{className:"glob2",style:{backgroundColor:t,width:s[2][0]+"%",height:s[2][1]+"%",top:r[2][0]+"%",left:r[2][1]+"%",animation:d?`move ${d*800}ms infinite alternate ease-in-out`:void 0,borderRadius:p}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:l("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),le=({children:i})=>l(b,{children:[l(m,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(j,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:E.colors.brand.green}),e(j,{size:["600px","600px"],left:"-50px",top:"-20px",color:E.colors.brand.green})]}),l(m,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:re,alt:"CharacterStrong Logo"})}),i]})]}),ce=async i=>{let t=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${i}%')&outFields=*&outSR=4326&f=json`,o=[],s=await(await fetch(t)).json();return o=[...s.features?s.features.map(r=>r.attributes):[]],o},de=async(i,t)=>{let o=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${i}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,s=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${i}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,r=[],n=await(await fetch(o)).json(),c=await(await fetch(s)).json();return r=[...n.features?n.features.map(h=>h.attributes):[],...c.features?c.features.map(h=>h.attributes):[]],r},P=10,he=()=>{const[i,t]=f.exports.useState(!1),[o,s]=f.exports.useState([]),[r,n]=f.exports.useState([]),[c,h]=f.exports.useState(""),[u,C]=f.exports.useState(null),[d,p]=f.exports.useState(1);f.exports.useEffect(()=>{const a=async()=>{t(!0);const g=await ce(c);s(g),t(!1)};c.trim().length>0?a():s([])},[c]);const S=a=>{h(a.target.value)},k=async a=>{t(!0),C(a),s([]);const g=await de("",a.LEAID);n(g),p(1),t(!1)},N=r.slice((d-1)*P,d*P),x=Math.ceil(r.length/P),B=({index:a,style:g})=>{const R=o[a];return e(m,{style:_(D({},g),{padding:"8px",cursor:"pointer"}),onClick:()=>k(R),_hover:{bg:"gray.100"},children:e(v,{children:R.NAME})})};return l(q,{spacing:4,align:"center",pt:"90px",w:"100%",children:[l(m,{position:"relative",w:"50%",children:[e(K,{placeholder:"Search district",value:c,type:"text",name:"districtInput",onChange:S,width:"100%"}),i?e(A,{mt:4,children:e(I,{size:"md"})}):o.length>0?e(m,{position:"absolute",top:"100%",left:0,zIndex:10,bg:"white",boxShadow:"md",width:"100%",maxH:"300px",overflow:"hidden",children:e(W,{height:300,itemCount:o.length,itemSize:45,width:"100%",children:B})}):c&&!u&&e(v,{mt:2,children:"No District Found"})]}),e(m,{w:"50%",mt:6,children:(u==null?void 0:u.NAME)&&l(b,{children:[l(v,{fontWeight:"bold",fontSize:"lg",mb:2,children:["Schools in District: ",u.NAME]}),i?e(A,{mt:4,children:e(I,{size:"md"})}):e(b,{children:N&&N.length>0?l(b,{children:[l(V,{size:"sm",variant:"simple",children:[e(Q,{bg:"gray.100",children:l(M,{children:[e(y,{children:"Name"}),e(y,{children:"City"}),e(y,{children:"State"}),e(y,{children:"NCESSCH"})]})}),e(Y,{children:N.map(a=>l(M,{children:[e(w,{children:a.NAME}),e(w,{children:a.CITY}),e(w,{children:a.STATE}),e(w,{children:a.NCESSCH})]},a.NCESSCH))})]}),x>1&&l(J,{mt:4,justify:"center",children:[e(T,{onClick:()=>p(a=>Math.max(1,a-1)),isDisabled:d===1,size:"sm",children:"Prev"}),l(v,{children:["Page ",d," of ",x]}),e(T,{onClick:()=>p(a=>Math.min(x,a+1)),isDisabled:d===x,size:"sm",children:"Next"})]})]}):e(v,{mt:4,children:"No Schools Found for District."})})]})})]})};function ue(){return l("div",{className:"App",children:[e(le,{}),e(he,{})]})}X.render(e(Z.StrictMode,{children:e(ee,{theme:E,children:e(ue,{})})}),document.getElementById("root"));
